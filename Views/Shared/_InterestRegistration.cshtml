@using HomeFinder.ViewModels
@model int

<button class="btn btn-outline-primary col-12 mt-2"
        type="button"
        onclick="GetRegistrationForm()">
    Intresseanmälan
</button>

<div id="interest-reg-box overlay-box">
    <div id="interest-reg-message">
    </div>
    <button class="btn btn-outline-primary col-6 mt-2"
            type="button"
            onclick="RegisterInterest()">
        Anmäl intresse
    </button>
    <button class="btn btn-outline-primary col-6 mt-2"
            type="button"
            onclick="CloseBox()">
        Stäng
    </button>
</div>

<script>
    function GetRegistrationForm() {
        $.ajax({
            type: "GET",
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            url: "/interestregistration/interestregistrationajax/" + "@Model",
            success: function (returnArgs) {
                var messageBox = document.getElementById("interest-reg-message");
                messageBox.textContent = returnArgs.message;
            },
            error: function () { alert("Error occured"); }
        });
    }
    function RegisterInterest() {
        $.ajax({
            type: 'POST',
            contentType: "application/json; charset=utf-8",
            dataType: 'text',
            url: "/interestregistration/postinterestregistrationajax/" + "@Model",
            success: function (data) { alert(data) },
            error: function () { alert("Error occured"); }
        });
    }
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>